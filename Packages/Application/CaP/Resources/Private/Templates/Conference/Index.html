<f:layout name="master" />

<f:section name="mainbox">
	<h1>Upcoming conferences</h1>

	<p>The following conference are upcoming in
	<f:if condition="{categoryPath}">the category
		<f:then>
		<f:link.action>[All]</f:link.action>
		<f:for each="{categoryPath}" as="category">
			&gt; <f:link.action arguments="{category: category}">{category.name}</f:link.action>
		</f:for>.
			<f:if condition="{categories}">
			 Select a sub-category on the left to limit the listed conferences.
			</f:if>
		</f:then>
		<f:else>
			all categories. Select a category on the left to limit the listed conferences.
		</f:else>
	</f:if>
	</p>

	<table class="conferences">
		<f:if condition="{conferences.now}">
			<tr><th colspan="3">Running now</th></tr>
			<f:for each="{conferences.now}" as="conference">
				<f:render section="conferenceEntry" arguments="{conference: conference}"/>
			</f:for>
		</f:if>
		<f:if condition="{conferences.day}">
			<tr><th colspan="3">Starting tomorrow</th></tr>
			<f:for each="{conferences.day}" as="conference">
				<f:render section="conferenceEntry" arguments="{conference: conference}"/>
			</f:for>
		</f:if>
		<f:if condition="{conferences.week}">
			<tr><th colspan="3">Starting within a week</th></tr>
			<f:for each="{conferences.week}" as="conference">
				<f:render section="conferenceEntry" arguments="{conference: conference}"/>
			</f:for>
		</f:if>
		<f:if condition="{conferences.future}">
			<tr><th colspan="3">Further on</th></tr>
			<f:for each="{conferences.future}" as="conference">
				<f:render section="conferenceEntry" arguments="{conference: conference}"/>
			</f:for>
		</f:if>
	</table>
</f:section>

<f:section name="conferenceEntry">
	<tr>
		<td><f:link.action action="show" arguments="{conference: conference}">{conference.name}</f:link.action></td>
		<td><f:format.date>{conference.startDate}</f:format.date> to <f:format.date>{conference.endDate}</f:format.date></td>
		<td>{conference.location}</td>
	</tr>
</f:section>

<f:section name="submenu">
	<br />
	<ul class="sublevel1"><li class="act-if-sub"><f:link.action>Categories</f:link.action><ul class="sublevel2">
	<f:for each="{categories}" as="category">
		<li class="no"><f:link.action arguments="{category: category}">{category.name}</f:link.action></li>
	</f:for>
	</ul></li></ul>
</f:section>
