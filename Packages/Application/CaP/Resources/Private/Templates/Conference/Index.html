<f:layout name="master" />

<f:section name="mainbox">
	<h1>Upcoming conferences</h1>

	<p>The following conference are upcoming in
	<f:if condition="{categoryPath}">the category
		<f:then>
		<f:link.action>[All]</f:link.action>
		<f:for each="{categoryPath}" as="category">
			&gt; <f:link.action arguments="{category: category}">{category.name}</f:link.action>
		</f:for>.
			<f:if condition="{categories}">
			 Select a sub-category below to limit the listed conferences.
			</f:if>
		</f:then>
		<f:else>
			all categories. Select a category below to limit the listed conferences.
		</f:else>
	</f:if>
	<ol class="categories">
	<f:for each="{categories}" as="category">
		<li><f:link.action arguments="{category: category}">{category.name}</f:link.action></li>
	</f:for>
	</ol>
	</p>

	<ol class="conferences">
		<f:if condition="{conferences.now}">
			<li>Running now<ol>
			<f:for each="{conferences.now}" as="conference">
				<f:render section="conferenceEntry" arguments="{conference: conference}"/>
			</f:for>
			</ol></li>
		</f:if>
		<f:if condition="{conferences.day}">
			<li>Starting tomorrow<ol>
			<f:for each="{conferences.day}" as="conference">
				<f:render section="conferenceEntry" arguments="{conference: conference}"/>
			</f:for>
			</ol></li>
		</f:if>
		<f:if condition="{conferences.week}">
			<li>Starting within a week<ol>
			<f:for each="{conferences.week}" as="conference">
				<f:render section="conferenceEntry" arguments="{conference: conference}"/>
			</f:for>
			</ol></li>
		</f:if>
		<f:if condition="{conferences.future}">
			<li>Further on<ol>
			<f:for each="{conferences.future}" as="conference">
				<f:render section="conferenceEntry" arguments="{conference: conference}"/>
			</f:for>
			</ol></li>
		</f:if>
	</ol>
</f:section>

<f:section name="conferenceEntry">
	<li>
		<f:link.action action="show" arguments="{conference: conference}">{conference.name}</f:link.action> - <f:format.date>{conference.startDate}</f:format.date> to <f:format.date>{conference.endDate}</f:format.date>
	</li>
</f:section>